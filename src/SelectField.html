<Field :uuid :label >
    <select class="form-control {{inputClass}}" bind:value="value" id={{uuid}}>
        {{#each optionList as opt}}
            {{#if typeof optionList[0] === 'string'}}
            <option>{{opt}}</option>
            {{else}}
            <option value={{opt[optionValue]}}>{{getOptionName(opt)}}</option>                    
            {{/if}}
        {{/each}}
    </select>
</Field>

<script>
    import Field from './Field.html';
    import { makeUniqueId, mergeProps } from './utils'

    export default {
        data() {
            return { 
                uuid: makeUniqueId(),
                label: '',
                inputClass: '',
                value: '',
                optionList: [],
                getOptionName: (x) => x.name,
                optionValue: 'id'
            }
        },
        oncreate() {
            mergeProps(this, 'settings');
        },
        components: {
            Field
        },
    }
</script>