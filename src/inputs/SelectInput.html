<select class="form-control {inputClass}" bind:value="value" ref:input on:change="fire('change', event)">
    {#if isObjectOptions }
        {#each optionList as opt}        
            <option value={opt[optionValue]}>{getOptionName(opt)}</option>        
        {/each}
    {:else}
        {#each optionList as opt}        
            <option>{opt}</option> 
        {/each}                                   
    {/if}
</select>

<script>
    import fieldBase from './field-base';

    export default {
        data() {
            return { 
                uuid: '',
                label: '',
                inputClass: '',
                value: '',
                optionList: [],
                getOptionName: (x) => x.name,
                optionValue: 'id'
            }
        },
        oncreate() {
            fieldBase.oncreate(this);
        },
        computed: {
            isObjectOptions: ({ optionList }) => {
                const listType = typeof optionList[0];
                return optionList ? listType === 'object' : false;
            }
        }
    }
</script>